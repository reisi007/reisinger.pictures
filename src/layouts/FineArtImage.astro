---
import ResponsiveImage from "./ResponsiveImage.astro";
import { getImageImportNameByPossiblyRelativeName, tryGetImageByAbsoluteName } from "../images/Images";
interface Props {
  name: string;
  titel?: string;
}
const { name, titel } = Astro.props;
const imagePromise = tryGetImageByAbsoluteName(getImageImportNameByPossiblyRelativeName(name));
if (imagePromise === undefined) {
  throw new Error(`Image "${name}" not found`);
}
const image = (await imagePromise).default;
const ratio = `${image.width}/${image.height}`;
---
<div>
  <div style={{
    maxHeight: "80vh",
    aspectRatio: ratio
  }}>
    <ResponsiveImage name={name} />
  </div>
  <p>{titel}</p>
</div>