---
import { type CollectionEntry } from "astro:content";

import ReviewCards from "./ReviewCards.astro";

interface Props {
  slug: string,
  featuredTestimonials: string[] | undefined,
  categoryTestimonials: CollectionEntry<"testimonials">[]
}

const { featuredTestimonials, categoryTestimonials, slug } = Astro.props;
---
{featuredTestimonials &&
<>
  {featuredTestimonials.length >= 2 &&
    <>
      <ReviewCards slugs={featuredTestimonials}></ReviewCards>
      {categoryTestimonials.length > 2 &&
        <div class="flex justify-center mt-6">
          <a class="btn btn-primary " href={`/${slug}/testimonials`}>Alle {categoryTestimonials.length} Bewertungen lesen</a>
        </div>
      }
    </>}
  {featuredTestimonials.length === 1 &&
    <ReviewCards slugs={featuredTestimonials}></ReviewCards>}
</>}
